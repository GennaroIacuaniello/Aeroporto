<!DOCTYPE HTML>
<html lang="java">
<head>
<!-- Generated by javadoc (21) on Thu Jul 24 01:26:29 CEST 2025 -->
<title>TicketDAOImpl</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-07-24">
<meta name="description" content="declaration: package: implementazioni_postgres_dao, class: TicketDAOImpl">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">implementazioni_postgres_dao</a></div>
<h1 title="Class TicketDAOImpl" class="title">Class TicketDAOImpl</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">implementazioni_postgres_dao.TicketDAOImpl</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../dao/TicketDAO.html" title="interface in dao">TicketDAO</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">TicketDAOImpl</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../dao/TicketDAO.html" title="interface in dao">TicketDAO</a></span></div>
<div class="block">PostgreSQL implementation of the TicketDAO interface for managing ticket operations in the airport management system.
 <p>
 This class provides concrete implementations for all ticket-related database operations
 defined in the <a href="../dao/TicketDAO.html" title="interface in dao"><code>TicketDAO</code></a> interface. It handles comprehensive ticket management
 functions including ticket data retrieval, ticket number generation, and ticket identification
 operations using PostgreSQL database connectivity.
 </p>
 <p>
 The implementation provides comprehensive ticket management capabilities including:
 </p>
 <ul>
   <li>Complete ticket information retrieval for specific bookings with passenger data</li>
   <li>Automatic ticket number generation with sequential numbering system</li>
   <li>Ticket number manipulation and increment operations for system management</li>
   <li>Integration with booking, passenger, and seat management systems</li>
   <li>Comprehensive seat assignment handling with proper indexing conversion</li>
 </ul>
 <p>
 All database operations use prepared statements to prevent SQL injection attacks and ensure
 data security. The class implements proper connection management using the singleton
 <a href="../database/ConnessioneDatabase.html" title="class in database"><code>ConnessioneDatabase</code></a> pattern and handles resource cleanup through try-with-resources
 statements.
 </p>
 <p>
 The class handles complex data processing and conversion operations:
 </p>
 <ul>
   <li>Seat number conversion from 1-based database storage to 0-based application indexing</li>
   <li>Ticket number generation using BigInteger for large number handling</li>
   <li>Proper null handling for optional seat assignments</li>
   <li>Passenger data association with ticket information</li>
   <li>Check-in status management and reporting</li>
 </ul>
 <p>
 The ticket numbering system uses a 13-digit format with zero-padding to ensure consistent
 ticket identification across the system. The generation process is atomic and thread-safe
 through database-level operations that retrieve the maximum existing ticket number and
 increment it appropriately.
 </p>
 <p>
 All methods follow the contract defined by the <a href="../dao/TicketDAO.html" title="interface in dao"><code>TicketDAO</code></a> interface and maintain
 data consistency through proper transaction handling, error logging, and validation mechanisms.
 The class provides essential functionality for booking management, check-in operations,
 and passenger service systems.
 </p></div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../dao/TicketDAO.html" title="interface in dao"><code>TicketDAO</code></a></li>
<li><a href="../model/Ticket.html" title="class in model"><code>Ticket</code></a></li>
<li><a href="../database/ConnessioneDatabase.html" title="class in database"><code>ConnessioneDatabase</code></a></li>
<li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link"><code>SQLException</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">TicketDAOImpl</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#generateTicketNumber(int)" class="member-name-link">generateTicketNumber</a><wbr>(int&nbsp;offset)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Generates a new unique ticket number by incrementing the maximum existing ticket number.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllTicketBooking(int,java.util.List,java.util.List,java.util.List,java.util.List,java.util.List,java.util.List,java.util.List)" class="member-name-link">getAllTicketBooking</a><wbr>(int&nbsp;bookingId,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;ticketNumbers,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;seats,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;&nbsp;checkedIns,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;passengerSSNs,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;firstNames,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;lastNames,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/Date.html" title="class or interface in java.sql" class="external-link">Date</a>&gt;&nbsp;birthDates)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves all tickets associated with a specific booking.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#increaseTicketNumber(java.lang.String)" class="member-name-link">increaseTicketNumber</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;ticketNumber)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Increments a ticket number by one and ensures proper 13-digit formatting.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>TicketDAOImpl</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">TicketDAOImpl</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getAllTicketBooking(int,java.util.List,java.util.List,java.util.List,java.util.List,java.util.List,java.util.List,java.util.List)">
<h3>getAllTicketBooking</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">getAllTicketBooking</span><wbr><span class="parameters">(int&nbsp;bookingId,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;ticketNumbers,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;seats,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;&nbsp;checkedIns,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;passengerSSNs,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;firstNames,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;lastNames,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/Date.html" title="class or interface in java.sql" class="external-link">Date</a>&gt;&nbsp;birthDates)</span>
                         throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Retrieves all tickets associated with a specific booking.
 <p>
 This method fetches comprehensive ticket information for all tickets
 associated with a particular booking. It provides detailed ticket data
 including seat assignments, check-in status, and associated passenger
 information for customer service operations and booking management purposes.
 </p>
 <p>
 The method joins multiple database tables (TICKET, PASSENGER) to provide
 complete ticket information for the specified booking. All lists are
 populated with corresponding data at the same index positions, enabling easy
 correlation between tickets and their associated passenger information.
 </p>
 <p>
 The retrieved data includes:
 </p>
 <ul>
   <li>Ticket numbers for unique identification</li>
   <li>Seat assignments with 0-based indexing (null if not assigned)</li>
   <li>Check-in status indicators for boarding eligibility</li>
   <li>Passenger SSN identifiers for passenger association</li>
   <li>Passenger personal information including names and birth dates</li>
 </ul>
 <p>
 Seat numbers are converted from 1-based database storage to 0-based indexing
 for consistency with the application's seat management system. Seats with
 value 0 or negative in the database are returned as null to indicate no
 seat assignment.
 </p>
 <p>
 This method is particularly useful for booking management operations,
 check-in procedures, passenger manifest generation, and customer service
 inquiries where complete ticket information for a booking is required.
 </p>
 <p>
 This implementation executes a SQL query that joins the TICKET and PASSENGER tables
 to retrieve comprehensive ticket information for all tickets associated with a specific
 booking. The query provides complete ticket details including passenger information
 and seat assignments.
 </p>
 <p>
 The method handles seat number conversion from 1-based database storage to 0-based
 application indexing for consistency with the application's seat management system.
 Seats with value 0 or negative in the database are returned as null to indicate
 no seat assignment.
 </p>
 <p>
 Data processing includes:
 </p>
 <ul>
   <li>Ticket numbers retrieved directly from database</li>
   <li>Seat assignments converted to 0-based indexing (null if not assigned)</li>
   <li>Check-in status indicators for boarding eligibility</li>
   <li>Passenger SSN identifiers for passenger association</li>
   <li>Passenger personal information including names and birth dates</li>
 </ul>
 <p>
 The method uses prepared statements for secure parameter binding and proper resource
 management through try-with-resources. All related data is populated in corresponding
 list positions to maintain data correlation across different information types.
 </p>
 <p>
 This method is particularly useful for booking management operations, check-in
 procedures, passenger manifest generation, and customer service inquiries where
 complete ticket information for a booking is required.
 </p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../dao/TicketDAO.html#getAllTicketBooking(int,java.util.List,java.util.List,java.util.List,java.util.List,java.util.List,java.util.List,java.util.List)">getAllTicketBooking</a></code>&nbsp;in interface&nbsp;<code><a href="../dao/TicketDAO.html" title="interface in dao">TicketDAO</a></code></dd>
<dt>Parameters:</dt>
<dd><code>bookingId</code> - the unique identifier of the booking to retrieve tickets for</dd>
<dd><code>ticketNumbers</code> - list to be populated with ticket numbers</dd>
<dd><code>seats</code> - list to be populated with seat assignments (0-based indexing, null if not assigned)</dd>
<dd><code>checkedIns</code> - list to be populated with check-in status indicators</dd>
<dd><code>passengerSSNs</code> - list to be populated with passenger SSN identifiers</dd>
<dd><code>firstNames</code> - list to be populated with passenger first names</dd>
<dd><code>lastNames</code> - list to be populated with passenger last names</dd>
<dd><code>birthDates</code> - list to be populated with passenger birth dates</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - if a database access error occurs during the data retrieval operation</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="generateTicketNumber(int)">
<h3>generateTicketNumber</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">generateTicketNumber</span><wbr><span class="parameters">(int&nbsp;offset)</span></div>
<div class="block">Generates a new unique ticket number by incrementing the maximum existing ticket number.
 <p>
 This method implements an atomic ticket number generation system that retrieves the
 highest ticket number currently in the database and generates a new unique number
 by applying the specified offset plus one additional increment. This ensures that
 generated ticket numbers are always unique and sequential.
 </p>
 <p>
 The generation process follows these steps:
 </p>
 <ol>
   <li>Queries the database for the maximum existing ticket number</li>
   <li>Applies the specified offset using the increment function</li>
   <li>Adds one final increment to generate the new ticket number</li>
   <li>Returns the formatted 13-digit ticket number with zero-padding</li>
 </ol>
 <p>
 The offset parameter allows for bulk ticket number generation scenarios where
 multiple consecutive ticket numbers need to be reserved. For single ticket
 generation, an offset of 0 should be used.
 </p>
 <p>
 The method uses database-level maximum value retrieval to ensure thread-safety
 and prevent duplicate ticket number generation in concurrent environments.
 Error handling includes comprehensive logging for operational monitoring.
 </p>
 <p>
 Generated ticket numbers follow a 13-digit format with leading zero padding
 to ensure consistent formatting and proper sorting in database operations
 and user interfaces.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>offset</code> - the number of additional increments to apply before generating the final ticket number</dd>
<dt>Returns:</dt>
<dd>a new unique 13-digit ticket number, or empty string if generation fails</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="increaseTicketNumber(java.lang.String)">
<h3>increaseTicketNumber</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">increaseTicketNumber</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;ticketNumber)</span></div>
<div class="block">Increments a ticket number by one and ensures proper 13-digit formatting.
 <p>
 This utility method handles ticket number arithmetic using BigInteger to support
 large numbers and prevent overflow issues. It converts the input ticket number
 string to a BigInteger, adds one, and formats the result back to a 13-digit
 string with leading zero padding.
 </p>
 <p>
 The method ensures consistent ticket number formatting across the system by:
 </p>
 <ul>
   <li>Using BigInteger for reliable large number arithmetic</li>
   <li>Maintaining 13-digit format with leading zero padding</li>
   <li>Providing proper error handling for invalid input formats</li>
   <li>Ensuring sequential ticket number generation</li>
 </ul>
 <p>
 The 13-digit format provides sufficient capacity for ticket numbering while
 maintaining consistent string length for database storage and display purposes.
 The method is used internally by the ticket generation system and can be used
 for manual ticket number manipulation when needed.
 </p>
 <p>
 Input validation ensures that only valid numeric strings are processed,
 with appropriate error messages for debugging and system monitoring.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ticketNumber</code> - the current ticket number as a string to be incremented</dd>
<dt>Returns:</dt>
<dd>the incremented ticket number formatted as a 13-digit string with leading zeros</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/NumberFormatException.html" title="class or interface in java.lang" class="external-link">NumberFormatException</a></code> - if the input ticket number is not a valid numeric string</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
